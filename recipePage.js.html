<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>recipePage.js - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <li class="nav-link nav-home-link"><a href="index.html">Home</a></li><li class="nav-heading">Classes</li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="RecipeCard.html">RecipeCard</a></span></li><li class="nav-heading"><a href="global.html">Globals</a></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#addFavoriteRecipe">addFavoriteRecipe</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#bindRC">bindRC</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#createRecipeCards">createRecipeCards</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#createRecipeObject">createRecipeObject</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#fetchRecipes">fetchRecipes</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#fetchSummary">fetchSummary</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#getDeletedRecipes">getDeletedRecipes</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#getFavoriteRecipes">getFavoriteRecipes</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#getLocalStorageRecipes">getLocalStorageRecipes</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#init">init</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#loadUserData">loadUserData</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#populateRecipes">populateRecipes</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#removeFavoriteRecipe">removeFavoriteRecipe</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#removeRecipe">removeRecipe</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#searchLocalRecipes">searchLocalRecipes</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#setIntolerances">setIntolerances</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#setLocalStorageItem">setLocalStorageItem</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#setMaxTime">setMaxTime</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#updateUserData">updateUserData</a></span></li>
</nav>

<div id="main">
    
    <h1 class="page-title">recipePage.js</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import * as util from "./API/utilityFunctions.js";

const id = window.location.hash.slice(1);

window.addEventListener("DOMContentLoaded", init);

/**
 * The Initialization of the recipe page and the elements inside the recipe
 */
function init(){
    let eTitle = document.getElementById("recipe-title"); // done
    let eImage = document.getElementById("recipe-image"); // done
    let eTags = document.getElementById("recipe-tags"); // don't have
    let eTime = document.getElementById("recipe-time"); // done
    let eServes = document.getElementById("recipe-serves"); // don't have
    let eDescription = document.getElementById("recipe-description"); // don't have
    let eIngredients = document.getElementById("recipe-ingredients-list"); // done
    let eSteps = document.getElementById("recipe-steps-list"); // done
    let eNutrition = document.getElementById("recipe-nutrition-list"); // done

    // Preferably, we would have a function from the API utils that gets recipe data for us
    let data = localStorage.getItem(id); // get the recipe data (here it's a string)
    data = JSON.parse(data); // parse the string rep of the object to create an object

    // Set data values
    eTitle.innerText = data["title"];
    eImage.setAttribute("src", data["image"]);
    eTime.innerText = data["readyInMinutes"];
 
    // eServes.innerText = data["serves"];
    eDescription.innerHTML = data["summary"];
    
    data["ingredients"].forEach(ing => {
        const ingItem = document.createElement("li");
        ingItem.innerText = ing;
        eIngredients.appendChild(ingItem);
    });

    data["steps"].forEach(step => {
        const stepItem = document.createElement("li");
        stepItem.innerText = step;
        eSteps.appendChild(stepItem);
    });

    data["nutrition"].forEach(fact => {
        const factItem = document.createElement("li");
        factItem.innerText = fact;
        eNutrition.appendChild(factItem);
    });


    let favoriteBtn = document.getElementById("favorite");
    let favArr = util.getFavoriteRecipes();
    if(favArr &amp;&amp; favArr.includes(id)){
        //favoriteBtn.innerText = "Unfavorite";
    } else{
        //favoriteBtn.innerText = "Favorite";
    }
    
    favoriteBtn.addEventListener("click", e => {
        favArr = util.getFavoriteRecipes();
        if(favArr &amp;&amp; favArr.includes(id)){
            util.removeFavoriteRecipe(id);
            //favoriteBtn.innerText = "Favorite";
        } else{
            util.addFavoriteRecipe(id);
            //favoriteBtn.innerText = "Unfavorite";
        }
    });

    let deleteBtn = document.getElementById("delete");
    let deletedRecipes = util.getDeletedRecipes();
    deleteBtn.addEventListener("click", e => {
        util.removeRecipe(id);

        deletedRecipes = util.getDeletedRecipes();
        deletedRecipes.push(parseInt(id))
        util.updateUserData("deletedRecipes", deletedRecipes);

        window.location.href = "/source/homepage.html";
    });

}

// changing the color
document.querySelector('#favorite').addEventListener('click', (e) => {
    e.currentTarget.classList.toggle('liked');
});

document.getElementById("editRecipe").addEventListener('click', e => {
    window.location.href = "/source/createRecipe.html#"+id;
});
</code></pre>
        </article>
    </section>




</div>

<br class="clear">

<footer>
    Generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.4</a> on Wed Dec 01 2021 05:36:45 GMT+0000 (Coordinated Universal Time) using the Minami theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>
